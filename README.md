

# IPv4地址划分的方式
- 标准分类的IP地址
- 划分子网的三级地址结构
- 构成超网的CIDR技术
- 网络地址转换技术
之前，我已经总结了：[标准分类的IP地址](https://ouyanglianjun.github.io/2017/05/08/%E6%A0%87%E5%87%86IP%E5%9C%B0%E5%9D%80%E7%9A%84%E5%88%86%E7%B1%BB/)和[划分子网的三级地址结构](https://ouyanglianjun.github.io/2017/05/10/%E5%88%92%E5%88%86%E5%AD%90%E7%BD%91%E7%9A%84%E4%B8%89%E7%BA%A7%E5%9C%B0%E5%9D%80%E7%BB%93%E6%9E%84/)，这篇博客我们继续介绍下一种地址划分的方式：构成超网的CIDR技术

# CIDR技术的提出历程（参考资料：[CIDR介绍](https://wenku.baidu.com/view/e3e24a242e3f5727a4e96239.html)）
- B 类地址在 1992 年已分配了近一半，眼看就要在 1994 年 3 月全部分配完毕！
- 因特网主干网上的路由表中的项目数急剧增长（从几千个增长到几万个）
- 整个 IPv4 的地址空间最终将全部耗尽
- 1987 年，RFC 1009 就指明了在一个划分子网的网络中可同时使用几个不同的子网掩 码。使用变长子网掩码 VLSM (Variable Length Subnet Mask)可进一步提高 IP 地址资源的利用率
- 在 VLSM 的基础上又进一步研究出无分类编址方法，它的正式名字是无分类域间路 由选择 CIDR (Classless Inter-Domain Routing)。


# CIDR主要特点
- CIDR 消除了传统的 A 类、B 类和 C 类地址以及划分子网的概念，因而可以更加有 效地分配 IPv4 的地址空间
- CIDR使用各种长度的“网络前缀” (network-prefix)来代替分类地址中的网络号和子网 号
- IP 地址从三级编址（使用子网掩码）又回到了两级编址

# 无分类的两级编址

- 无分类的两级编址的记法是：  IP地址= {<网络前缀>, <主机号>}
- CIDR 还使用“斜线记法”(slash notation)，它又称为CIDR记法，即在 IP 地址后面加上 一个斜线“/”，然后写上网络前缀所占的比特数，如：100.100.100.0/24
- CIDR 将网络前缀都相同的连续的 IP 地址组成“CIDR 地址块

# CIDR地址块
- 128.14.32.0/20 表示的地址块共有 2^12(4096) 个地址（因为斜线后面的 20 是网络前缀的比 特数，所以主机号的比特数是 12）
- 这个地址块的起始地址是 128.14.32.0
- 128.14.32.0/20 地址块的最小地址：128.14.32.0
- 128.14.32.0/20 地址块的最大地址：128.14.32.255
- 全 0 和全 1 的主机号地址用作特殊用途.全0为本网络地址，全1是广播地址

#  󰂄路由聚合(route aggregation)
- 一个 CIDR 地址块可以表示很多地址，这种地址的聚合常称为路由聚合，它使得路由 表中的一个项目可以表示很多个（例如上千个）原来传统分类地址的路由
- 路由聚合也称为构成超网

# 例题
网络122.21.136.0/24和122.21.143.0/24经过路由汇聚，得到的网络地址是： 

```
把题干中的2个网络地址都转换成二进制： 
01111010. 00010101. 10001000. 00000000  
01111010. 00010101. 10001111. 00000000  他们的前21位是一样的，所以经过路由汇聚后得到的网络地址是：
01111010. 00010101.10001000. 00000000/21
也就是：
122.21.136.0/21
```


